import{d as C,o,c as s,t as m,k as v,b as l,z as V,r as c,i as $,q as d,j as q,w as D,T as I,e as k,u as g}from"./index-0b106872.js";import{s as S}from"./scrollHelper-62f64ba1.js";import{u as T}from"./usePositions-433ff189.js";import{u as z}from"./useFormValidation-f9ddc5c1.js";import"./api-da8ccfb3.js";import"./paginationHelper-8171a740.js";const M={nivel:{rules:[{validation:e=>e&&e.length>0,message:"Campo requerido."},{validation:e=>e&&e.length<5,message:"Maximo 4 caracters."}]}},R={key:0,class:"control-label",for:"nombre"},U=["placeholder","value","name","id","type","disabled","checked"],j={key:1,class:"form-check-label pl-4",for:"nombre"},A={key:2,class:"ui basic label pointing red"},x=C({__name:"InputText",props:{title:"",placeholder:"",name:"",error:{},id:"",modelValue:"",type:{required:!1,default:"text"},disabled:{required:!1,default:!1}},setup(e){return(n,r)=>(o(),s("div",{class:V(e.type=="text"?"form-group":"form-check")},[e.type=="text"?(o(),s("label",R,m(e.title),1)):v("",!0),l("input",{class:V(e.type=="text"?"form-control":"form-check-input"),placeholder:e.placeholder,value:e.modelValue,onInput:r[0]||(r[0]=u=>n.$emit("update:modelValue",e.type=="text"?u.target.value:u.target.checked)),name:e.name,id:e.id,type:e.type,disabled:e.disabled,checked:e.modelValue},null,42,U),e.type=="checkbox"?(o(),s("label",j,m(e.title),1)):v("",!0),e.error[e.name]?(o(),s("div",A,m(e.error[e.name]),1)):v("",!0)],2))}}),E={key:0},F={class:"view-name"},G=l("hr",{class:"red"},null,-1),H={class:"p-4"},X=C({__name:"PositionDetailsView",setup(e){const n=c("Registrar Puesto"),{savePosition:r,updatePosition:u,getPositionById:w}=T(),i=c(""),f=c(!1),t=c({clave_clasificador_funcional:1,clave_tipo_nombramiento:1,clave_tipo_servicios_personales:1}),{formState:b,isValid:P,errors:y}=z(t.value,M),N=()=>d.push({name:"listar-puestos"}),B=()=>{P.value&&(i.value?u(b.value).then(()=>d.push({name:"listar-puestos"})):r(b.value).then(()=>d.push({name:"listar-puestos"})))};return $(()=>{var p;i.value=(p=d.currentRoute.value.params.id)==null?void 0:p.toString(),i.value?(n.value="Actualizar Puesto",w(i.value).then(a=>{t.value.clave=i.value,t.value.nivel=a.nivel,t.value.descripcion=a.descripcion,f.value=!0})):f.value=!0,S()}),(p,a)=>(o(),q(I,{name:"view"},{default:D(()=>[f.value?(o(),s("div",E,[l("h4",F,m(n.value),1),G,l("form",H,[k(x,{modelValue:t.value.nivel,"onUpdate:modelValue":a[0]||(a[0]=h=>t.value.nivel=h),title:"Nivel:",placeholder:"Nivel",name:"level",id:"level",error:g(y)},null,8,["modelValue","error"]),k(x,{modelValue:t.value.descripcion,"onUpdate:modelValue":a[1]||(a[1]=h=>t.value.descripcion=h),title:"Descripción:",placeholder:"Descripción",name:"description",id:"description",error:g(y)},null,8,["modelValue","error"]),l("div",{class:"modal-footer"},[l("button",{type:"button",class:"btn btn-secondary",onClick:N}," Cancelar "),l("button",{type:"button",onClick:B,class:"btn btn-primary"}," Guardar ")])])])):v("",!0)]),_:1}))}});export{X as default};
