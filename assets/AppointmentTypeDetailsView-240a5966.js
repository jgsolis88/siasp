import{d as x,r as i,i as C,q as n,j as A,w as N,T as B,o as u,c as v,b as t,t as f,g as D,n as L,u as d,k as h}from"./index-7b270076.js";import{s as S}from"./scrollHelper-62f64ba1.js";import{u as q}from"./useAppointmentTypes-ff5d82fb.js";import{u as z}from"./useFormValidation-3bfe7101.js";import{v as E,a as I}from"./validationHelper-22c07218.js";import"./api-b8e6f8bb.js";import"./paginationHelper-8171a740.js";const M={descripcion:{rules:[{validation:o=>E(o),message:"La descripci贸n es obligatorio."},{validation:o=>I(o,3),message:"La descripci贸n requiere al menos tres caracteres."}]}},_={clave:"",descripcion:""},R={key:0},j={class:"view-name"},F=t("hr",{class:"red"},null,-1),G={class:"p-4"},U={class:"form-group"},H=t("label",{for:"descripcion-nivel"},"Descripci贸n",-1),J={key:0,id:"descripcion-nivel-small",class:"form-text text-muted app-validation"},Z=x({__name:"AppointmentTypeDetailsView",setup(o){const m=i("Registrar Tipo de Nombramiento"),{updateAppointmentType:b,getAppointmentType:y,saveAppointmentType:T}=q(),s=i(""),l=i(!1),e=i(_),{isValid:g,errors:r}=z(e.value,M),V=()=>{c(),n.push({name:"listar-tipos-nombramiento"})},w=()=>{g.value&&(s.value?b(e.value.clave,{...e.value}).then(()=>{c(),n.push({name:"listar-tipos-nombramiento"})}):T({...e.value}).then(()=>{c(),n.push({name:"listar-tipos-nombramiento"})}))},c=()=>{e.value={..._}};return C(()=>{var p;s.value=(p=n.currentRoute.value.params.id)==null?void 0:p.toString(),s.value?(m.value="Actualizar Tipo de Nombramiento",y(s.value).then(a=>{e.value.clave=a.clave,e.value.descripcion=a.descripcion,l.value=!0})):l.value=!0,S()}),(p,a)=>(u(),A(B,{name:"view"},{default:N(()=>[l.value?(u(),v("div",R,[t("h4",j,f(m.value),1),F,t("form",G,[t("div",U,[H,D(t("input",{type:"text","onUpdate:modelValue":a[0]||(a[0]=k=>e.value.descripcion=k),class:"form-control",id:"descripcion-nivel",placeholder:"Introduzca la descripci贸n del nivel",autocomplete:"off"},null,512),[[L,e.value.descripcion]]),d(r)&&d(r).descripcion?(u(),v("small",J,f(d(r).descripcion),1)):h("",!0)]),t("div",{class:"modal-footer"},[t("button",{type:"button",class:"btn btn-secondary",onClick:V}," Cancelar "),t("button",{type:"button",onClick:w,class:"btn btn-primary"}," Guardar ")])])])):h("",!0)]),_:1}))}});export{Z as default};
