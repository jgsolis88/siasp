import{d as F,r,i as J,q as m,j as T,w as q,T as B,o as l,c as u,b as e,t as h,g as b,n as g,u as n,k as d}from"./index-675e3599.js";import{s as j}from"./scrollHelper-62f64ba1.js";import{u as D}from"./useFunctionalJobClassifications-452cf71c.js";import{u as I}from"./useFormValidation-6eda1048.js";import{d as z}from"./functionalJobClassificationModel-2c06ec7c.js";import"./api-6055b01b.js";import"./paginationHelper-8171a740.js";const L={clave:{rules:[{validation:a=>a&&a.length>0,message:"La clave es requerida."}]},descripcion:{rules:[{validation:a=>a&&a.length>0,message:"La descripción es requerida."},{validation:a=>a&&a.length>3,message:"La descripción debe tener al menos tres caracteres."}]}},M={key:0},N={class:"view-name"},S=e("hr",{class:"red"},null,-1),P={class:"p-4"},R={key:0,class:"form-group"},U=e("label",{for:"clave-functional-job"},"Clave",-1),A={key:0,id:"clave-nivel-small",class:"form-text text-muted app-validation"},E={class:"form-group"},G=e("label",{for:"nombre-operacion"},"Descripción",-1),H={key:0,id:"descripcion-nivel-small",class:"form-text text-muted app-validation"},K={key:1,class:"form-text text-muted app-form-message"},ee=F({__name:"FunctionalJobClassificationDetailsView",setup(a){const _=r("Registrar Clasificación Funcional de Puestos"),{saveFunctionalJobClassification:C,updateFunctionalJobClassification:y,getFunctionalJobClassificationById:x}=D(),o=r(""),p=r(!1),c=r(!1),t=r({...z}),{isValid:k,errors:i}=I(t.value,L),V=()=>{m.push({name:"listar-clasificaciones-funcional-de-puestos"})},w=()=>{k.value&&(o.value?y(o.value,{...t.value}).then(()=>{m.push({name:"listar-clasificaciones-funcional-de-puestos"})}).catch(()=>{c.value=!0,setTimeout(()=>{c.value=!1},3e3)}):C({...t.value}).then(()=>{m.push({name:"listar-clasificaciones-funcional-de-puestos"})}).catch(()=>{c.value=!0,setTimeout(()=>{c.value=!1},3e3)}))};return J(()=>{var v;o.value=(v=m.currentRoute.value.params.id)==null?void 0:v.toString(),o.value?(_.value="Actualizar Clasificación Funcional de Puestos",x(o.value).then(s=>{t.value.descripcion=s.descripcion,t.value.clave=s.clave,p.value=!0})):p.value=!0,j()}),(v,s)=>(l(),T(B,{name:"view"},{default:q(()=>[p.value?(l(),u("div",M,[e("h4",N,h(_.value),1),S,e("form",P,[o.value?d("",!0):(l(),u("div",R,[U,b(e("input",{type:"text","onUpdate:modelValue":s[0]||(s[0]=f=>t.value.clave=f),class:"form-control",id:"clave-functional-job",placeholder:"Introduzca la clave",autocomplete:"off"},null,512),[[g,t.value.clave]]),n(i)&&n(i).clave?(l(),u("small",A,h(n(i).clave),1)):d("",!0)])),e("div",E,[G,b(e("input",{type:"text","onUpdate:modelValue":s[1]||(s[1]=f=>t.value.descripcion=f),class:"form-control",id:"description-functional-job",placeholder:"Introduzca la descripción",autocomplete:"off"},null,512),[[g,t.value.descripcion]]),n(i)&&n(i).descripcion?(l(),u("small",H,h(n(i).descripcion),1)):d("",!0)]),e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary",onClick:V}," Cancelar "),e("button",{type:"button",onClick:w,class:"btn btn-primary"}," Guardar ")]),c.value?(l(),u("small",K," Verifique que los datos esten correctos, o no haya sido registrado previamiente. ")):d("",!0)])])):d("",!0)]),_:1}))}});export{ee as default};
