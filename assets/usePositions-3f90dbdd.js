import{g as a,p as l,d as c,a as u}from"./api-fdc0db9b.js";import{C as p,p as n}from"./paginationHelper-8171a740.js";import{r as g}from"./index-1b3fb38e.js";const t="cat_puesto/",w=()=>{const r=g({...p});return{positions:r,getPositions:async({page:o=1})=>{try{r.value.loading=!0;const e=await a(`${t}`,{page:o,page_size:r.value.pagination.page_size});return r.value.data=e.results,r.value.pagination=n(r.value.pagination,o,e.count),r.value.loading=!1,Promise.resolve(e.results)}catch(e){return console.error(e),console.log("Error al cargar los puestos",e),Promise.reject(e)}},savePosition:async o=>{try{const e=await l(t,o);return Promise.resolve(e)}catch(e){return console.error(e),console.log("Error al guardar el nuevo puesto",e),Promise.reject(e)}},deletePosition:async o=>{try{const e=await c(`${t}`,o);return Promise.resolve(e)}catch(e){return console.error(e),console.log("Error al eliminar el puesto",e),Promise.reject(e)}},updatePosition:async o=>{try{console.log(o.clave);const e=await u(`${t}`,o.clave,o);return Promise.resolve(e)}catch(e){return console.error(e),console.log("Error al guardar el nuevo puesto",e),Promise.reject(e)}},getPositionById:async o=>{try{const e=await a(`${t}${o}/`);return Promise.resolve(e)}catch(e){return console.error(e),console.log("Error al cargar puesto",e),Promise.reject(e)}},searchPositions:async(o="",e=1,i=!0)=>{try{r.value.loading=!0;const s=await a(`${t}`,{page:e,search:o,page_size:r.value.pagination.page_size},i);return r.value.data=s.results,r.value.pagination=n(r.value.pagination,e,s.count),r.value.loading=!1,Promise.resolve(s.results)}catch(s){return console.error(s),console.log("Error al cargar puestos",s),Promise.reject(s)}}}};export{w as u};
