import{d as x,r as d,l as A,i as C,q as o,j as L,w as N,T as B,o as u,c as m,b as a,t as f,g as D,n as T,u as p,k as h}from"./index-e25af515.js";import{s as S}from"./scrollHelper-62f64ba1.js";import{a as q}from"./useLevelsArea-8aa80967.js";import{u as z}from"./useFormValidation-456a2073.js";import"./api-d944423e.js";import"./paginationHelper-8171a740.js";const I={clave:"",descripcion:""},M={descripcion:{rules:[{validation:s=>s&&s.length>0,message:"La descripción es requerida."},{validation:s=>s&&s.length>3,message:"La descripción debe tener al menos tres caracteres."}]}},R={key:0},j={class:"view-name"},E=a("hr",{class:"red"},null,-1),F={class:"p-4"},G={class:"form-group"},U=a("label",{for:"descripcion-nivel"},"Descripción",-1),H={key:0,id:"descripcion-nivel-small",class:"form-text text-muted app-validation"},X=x({__name:"LevelsAreaDetailsView",setup(s){const v=d("Registrar Nivel por Área"),{updateLevelsArea:_,getLevelArea:b,saveLevelsArea:g}=q(),t=d(""),r=d(!1),e=A(I),{isValid:V,errors:n}=z(e,M),w=()=>{l(),o.push({name:"listar-niveles-area"})},k=()=>{V.value&&(t.value&&e.descripcion.length>0&&_(e.clave,{...e}).then(()=>{l(),o.push({name:"listar-niveles-area"})}),!t.value&&e.descripcion.length>0&&g({...e}).then(()=>{l(),o.push({name:"listar-niveles-area"})}))},l=()=>{e.clave="",e.descripcion=""};return C(()=>{var c;t.value=(c=o.currentRoute.value.params.id)==null?void 0:c.toString(),t.value?(v.value="Actualizar Nivel por Área",b(t.value).then(i=>{e.clave=i.clave,e.descripcion=i.descripcion,r.value=!0})):r.value=!0,S()}),(c,i)=>(u(),L(B,{name:"view"},{default:N(()=>[r.value?(u(),m("div",R,[a("h4",j,f(v.value),1),E,a("form",F,[a("div",G,[U,D(a("input",{type:"text","onUpdate:modelValue":i[0]||(i[0]=y=>e.descripcion=y),class:"form-control",id:"descripcion-nivel",placeholder:"Introduzca la descripción del nivel",autocomplete:"off"},null,512),[[T,e.descripcion]]),p(n)&&p(n).descripcion?(u(),m("small",H,f(p(n).descripcion),1)):h("",!0)]),a("div",{class:"modal-footer"},[a("button",{type:"button",class:"btn btn-secondary",onClick:w}," Cancelar "),a("button",{type:"button",onClick:k,class:"btn btn-primary"}," Guardar ")])])])):h("",!0)]),_:1}))}});export{X as default};
