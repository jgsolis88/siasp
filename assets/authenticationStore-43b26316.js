import{z as i,B as o,C as s}from"./index-1b3fb38e.js";import{p as c}from"./api-fdc0db9b.js";const h=i("authentication",{state:()=>({isAuthenticated:!1,jwtAccess:"",jwtRefresh:"",user:null}),getters:{},actions:{async login(t,r){try{const e=await c("user/login",{email:t,password:r});if(e.access===void 0||e.refresh===void 0)throw new Error("Cant get jwt. Check with sys admin.");return this.isAuthenticated=!0,this.jwtAccess=e.access,this.jwtRefresh=e.refresh,o(this.jwtAccess),Promise.resolve(!0)}catch(e){return s(),Promise.reject(e)}},async logout(){try{return s(),this.jwtAccess="",this.jwtRefresh="",this.isAuthenticated=!1,this.user=null,Promise.resolve(!0)}catch(t){return Promise.reject(t)}}}});export{h as u};
