import{d as k,r as v,l as w,i as E,q as d,j as P,w as I,T as A,o as u,c as f,b as o,t as g,g as a,n as S,u as c,k as h,B as i}from"./index-e25af515.js";import{s as F}from"./scrollHelper-62f64ba1.js";import{u as G}from"./useSubunitsBudget-99d4985b.js";import{u as T}from"./useFormValidation-456a2073.js";import{d as j}from"./subunitBudgetModel-bcf3e2ae.js";import"./api-d944423e.js";import"./paginationHelper-8171a740.js";const q={proyecto:{rules:[{validation:l=>l&&l.length>0,message:"El nombre es requerido."},{validation:l=>l&&l.length>3,message:"El nombre debe tener al menos tres caracteres."}]},actividad_prioritaria:{rules:[{validation:l=>l&&l.length>0,message:"La descripción es requerida."},{validation:l=>l&&l.length>3,message:"La descripción debe tener al menos tres caracteres."}]}},z={key:0},D={class:"view-name"},M=o("hr",{class:"red"},null,-1),N={class:"p-4"},L={class:"form-group"},R=o("label",null,"Proyecto",-1),H={key:0,id:"name-nivel-small",class:"form-text text-muted app-validation"},J={class:"form-group"},K=o("label",null,"Actividad prioritaria",-1),O={key:0,id:"actividad_prioritaria-nivel-small",class:"form-text text-muted app-validation"},Q={class:"form-group"},W=o("label",null,"Unidad Ejecutora",-1),X=o("option",{value:"0"},"Seleccione una opción",-1),Y=[X],Z={class:"form-group"},$=o("label",null,"Clave de la Función",-1),oo=o("option",{value:"0"},"Seleccione una opción",-1),eo=[oo],to={class:"form-group"},so=o("label",null,"Programa Sectorial",-1),ao=o("option",{value:"0"},"Seleccione una opción",-1),io=[ao],lo={class:"form-group"},no=o("label",null,"Programa Especial",-1),co=o("option",{value:"0"},"Seleccione una opción",-1),ro=[co],uo={class:"form-group"},po=o("label",null,"Actividad Institucional",-1),_o=o("option",{value:"0"},"Seleccione una opción",-1),mo=[_o],vo={class:"form-group"},fo=o("label",null,"Tipo de Gasto",-1),go=o("option",{value:"0"},"Seleccione una opción",-1),ho=[go],bo={class:"form-group"},So=o("label",null,"Gasto Específico",-1),Vo=o("option",{value:"0"},"Seleccione una opción",-1),yo=[Vo],Uo={class:"form-group"},Co=o("label",null,"Fuente de Financiamiento",-1),Bo=o("option",{value:"0"},"Seleccione una opción",-1),xo=[Bo],ko={class:"form-group"},wo=o("label",null,"Subfunción Agrupada",-1),Eo=o("option",{value:"0"},"Seleccione una opción",-1),Po=[Eo],Io={class:"form-group"},Ao=o("label",null,"Subfunción Específica",-1),Fo=o("option",{value:"0"},"Seleccione una opción",-1),Go=[Fo],To={class:"form-group"},jo=o("label",null,"Programa",-1),qo=o("option",{value:"0"},"Seleccione una opción",-1),zo=[qo],Do={class:"form-group"},Mo=o("label",null,"Clave del Grupo de Proyecto",-1),No=o("option",{value:"0"},"Seleccione una opción",-1),Lo=[No],Ro={class:"form-group"},Ho=o("label",null,"Clave del Grupo Funcional",-1),Jo=o("option",{value:"0"},"Seleccione una opción",-1),Ko=[Jo],Oo={class:"form-group"},Qo=o("label",null,"Clave de la Actividad Institucional",-1),Wo=o("option",{value:"0"},"Seleccione una opción",-1),Xo=[Wo],ae=k({__name:"SubunitBudgetDetailsView",setup(l){const b=v("Registrar Subunidad vs. Clave Presupuesto"),{saveSubunitBudget:V,updateSubunitBudget:y,getSubunitBudgetById:U}=G(),r=v(""),p=v(!1),e=w(j),{isValid:C,errors:n}=T(e,q),B=()=>{_(),d.push({name:"listar-subunidades-clave-presupuesto"})},x=()=>{C.value&&(r.value?y(r.value,{...e}).then(()=>{_(),d.push({name:"listar-subunidades-clave-presupuesto"})}):V({...e}).then(()=>{_(),d.push({name:"listar-subunidades-clave-presupuesto"})}))},_=()=>{e.proyecto="",e.actividad_prioritaria=""};return E(()=>{var m;r.value=(m=d.currentRoute.value.params.id)==null?void 0:m.toString(),r.value?(b.value="Actualizar Subunidad vs. Clave Presupuesto",U(r.value).then(t=>{e.proyecto=t.proyecto,e.actividad_prioritaria=t.actividad_prioritaria,p.value=!0})):p.value=!0,F()}),(m,t)=>(u(),P(A,{name:"view"},{default:I(()=>[p.value?(u(),f("div",z,[o("h4",D,g(b.value),1),M,o("form",N,[o("div",L,[R,a(o("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=s=>e.proyecto=s),class:"form-control",id:"name-subunit-budget",placeholder:"Introduzca el proyecto",autocomplete:"off"},null,512),[[S,e.proyecto]]),c(n)&&c(n).proyecto?(u(),f("small",H,g(c(n).proyecto),1)):h("",!0)]),o("div",J,[K,a(o("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=s=>e.actividad_prioritaria=s),class:"form-control",id:"description-subunit-budget",placeholder:"Introduzca la actividad prioritaria",autocomplete:"off"},null,512),[[S,e.actividad_prioritaria]]),c(n)&&c(n).actividad_prioritaria?(u(),f("small",O,g(c(n).actividad_prioritaria),1)):h("",!0)]),o("div",Q,[W,a(o("select",{class:"form-select form-control","onUpdate:modelValue":t[2]||(t[2]=s=>e.unidad_ejecutora=s)},Y,512),[[i,e.unidad_ejecutora]])]),o("div",Z,[$,a(o("select",{class:"form-select form-control","onUpdate:modelValue":t[3]||(t[3]=s=>e.clave_funcion=s)},eo,512),[[i,e.clave_funcion]])]),o("div",to,[so,a(o("select",{class:"form-select form-control","onUpdate:modelValue":t[4]||(t[4]=s=>e.programa_sectorial=s)},io,512),[[i,e.programa_sectorial]])]),o("div",lo,[no,a(o("select",{class:"form-select form-control","onUpdate:modelValue":t[5]||(t[5]=s=>e.programa_especial=s)},ro,512),[[i,e.programa_especial]])]),o("div",uo,[po,a(o("select",{class:"form-select form-control","onUpdate:modelValue":t[6]||(t[6]=s=>e.actividad_institucional=s)},mo,512),[[i,e.actividad_institucional]])]),o("div",vo,[fo,a(o("select",{class:"form-select form-control","onUpdate:modelValue":t[7]||(t[7]=s=>e.tipo_gasto=s)},ho,512),[[i,e.tipo_gasto]])]),o("div",bo,[So,a(o("select",{class:"form-select form-control","onUpdate:modelValue":t[8]||(t[8]=s=>e.gasto_especifico=s)},yo,512),[[i,e.gasto_especifico]])]),o("div",Uo,[Co,a(o("select",{class:"form-select form-control","onUpdate:modelValue":t[9]||(t[9]=s=>e.fuente_financiamiento=s)},xo,512),[[i,e.fuente_financiamiento]])]),o("div",ko,[wo,a(o("select",{class:"form-select form-control","onUpdate:modelValue":t[10]||(t[10]=s=>e.subfuncion_agrupada=s)},Po,512),[[i,e.subfuncion_agrupada]])]),o("div",Io,[Ao,a(o("select",{class:"form-select form-control","onUpdate:modelValue":t[11]||(t[11]=s=>e.subfuncion_especifica=s)},Go,512),[[i,e.subfuncion_especifica]])]),o("div",To,[jo,a(o("select",{class:"form-select form-control","onUpdate:modelValue":t[12]||(t[12]=s=>e.programa=s)},zo,512),[[i,e.programa]])]),o("div",Do,[Mo,a(o("select",{class:"form-select form-control","onUpdate:modelValue":t[13]||(t[13]=s=>e.clave_grupo_proyecto=s)},Lo,512),[[i,e.clave_grupo_proyecto]])]),o("div",Ro,[Ho,a(o("select",{class:"form-select form-control","onUpdate:modelValue":t[14]||(t[14]=s=>e.clave_grupo_funcional=s)},Ko,512),[[i,e.clave_grupo_funcional]])]),o("div",Oo,[Qo,a(o("select",{class:"form-select form-control","onUpdate:modelValue":t[15]||(t[15]=s=>e.clave_actividad_institucional=s)},Xo,512),[[i,e.clave_actividad_institucional]])]),o("div",{class:"modal-footer"},[o("button",{type:"button",class:"btn btn-secondary",onClick:B}," Cancelar "),o("button",{type:"button",onClick:x,class:"btn btn-primary"}," Guardar ")])])])):h("",!0)]),_:1}))}});export{ae as default};
