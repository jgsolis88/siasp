import{d as j,r as c,i as C,q as v,j as P,w as B,T as I,o as n,c as u,b as a,t as f,g as d,n as b,u as i,k as p,z as g}from"./index-07ca7dee.js";import{s as U}from"./scrollHelper-62f64ba1.js";import{u as q}from"./usePositions-37455264.js";import{u as D}from"./useFormValidation-0614fa30.js";import{d as M}from"./positionModel-7225cae8.js";import"./api-93b42a31.js";import"./paginationHelper-8171a740.js";const N={descripcion:{rules:[{validation:t=>t&&t.length>0,message:"La descripci贸n es requerida."},{validation:t=>t&&t.length>3,message:"La descripci贸n debe tener al menos tres caracteres."}]},nivel:{rules:[{validation:t=>t&&t.length>0,message:"El nivel es requerido."}]},clave:{rules:[{validation:t=>t&&t.length>0,message:"La clave es requerida."}]}},L={key:0},S={class:"view-name"},E=a("hr",{class:"red"},null,-1),F={class:"p-4"},R={key:0,class:"form-group"},A=a("label",{for:"nombre-operacion"},"Clave",-1),G={key:0,id:"descripcion-nivel-small",class:"form-text text-muted app-validation"},H={class:"form-group"},J=a("label",{for:"nombre-operacion"},"Nivel",-1),K={key:0,id:"descripcion-nivel-small",class:"form-text text-muted app-validation"},O={class:"form-group"},Q=a("label",{for:"nombre-operacion"},"Descripci贸n",-1),W={key:0,id:"descripcion-nivel-small",class:"form-text text-muted app-validation"},X={class:"form-check"},Y=a("label",{class:"form-check-label pl-4",for:"nombre"},"Tiene base",-1),Z={class:"form-check"},$=a("label",{class:"form-check-label pl-4",for:"nombre"},"Tiene fojaref",-1),ne=j({__name:"PositionDetailsView",setup(t){const k=c("Registrar Puesto"),{savePosition:x,updatePosition:y,getPositionById:V}=q(),r=c(""),_=c(!1),m=c(!1),e=c({...M}),{isValid:z,errors:s}=D(e.value,N),w=()=>{v.push({name:"listar-puestos"})},T=()=>{z.value&&(r.value?y({...e.value}).then(()=>{v.push({name:"listar-puestos"})}).catch(()=>{m.value=!0,setTimeout(()=>{m.value=!1},3e3)}):x({...e.value}).then(()=>{v.push({name:"listar-puestos"})}).catch(()=>{m.value=!0,setTimeout(()=>{m.value=!1},3e3)}))};return C(()=>{var h;r.value=(h=v.currentRoute.value.params.id)==null?void 0:h.toString(),r.value?(k.value="Actualizar Puesto",V(r.value).then(o=>{e.value.clave=o.clave,e.value.descripcion=o.descripcion,e.value.base_confianza=o.base_confianza,e.value.fojaref=o.fojaref,e.value.nivel=o.nivel,e.value.id_clasificador_funcional=o.id_clasificador_funcional,e.value.id_tipo_nombramiento=o.id_tipo_nombramiento,e.value.id_tipo_servicios_personales=o.id_tipo_servicios_personales,_.value=!0})):_.value=!0,U()}),(h,o)=>(n(),P(I,{name:"view"},{default:B(()=>[_.value?(n(),u("div",L,[a("h4",S,f(k.value),1),E,a("form",F,[r.value?p("",!0):(n(),u("div",R,[A,d(a("input",{type:"text","onUpdate:modelValue":o[0]||(o[0]=l=>e.value.clave=l),class:"form-control",id:"name-position",placeholder:"Introduzca la clave",autocomplete:"off"},null,512),[[b,e.value.clave]]),i(s)&&i(s).clave?(n(),u("small",G,f(i(s).clave),1)):p("",!0)])),a("div",H,[J,d(a("input",{type:"text","onUpdate:modelValue":o[1]||(o[1]=l=>e.value.nivel=l),class:"form-control",id:"level-position",placeholder:"Introduzca el nivel",autocomplete:"off"},null,512),[[b,e.value.nivel]]),i(s)&&i(s).nivel?(n(),u("small",K,f(i(s).nivel),1)):p("",!0)]),a("div",O,[Q,d(a("input",{type:"text","onUpdate:modelValue":o[2]||(o[2]=l=>e.value.descripcion=l),class:"form-control",id:"description-position",placeholder:"Introduzca la descripci贸n",autocomplete:"off"},null,512),[[b,e.value.descripcion]]),i(s)&&i(s).descripcion?(n(),u("small",W,f(i(s).descripcion),1)):p("",!0)]),a("div",X,[d(a("input",{class:"form-check-input",placeholder:"Tiene base",name:"base_confianza",id:"base_confianza",type:"checkbox","onUpdate:modelValue":o[3]||(o[3]=l=>e.value.base_confianza=l)},null,512),[[g,e.value.base_confianza]]),Y]),a("div",Z,[d(a("input",{class:"form-check-input",placeholder:"Tiene fojaref",name:"fojaref",id:"fojaref",type:"checkbox","onUpdate:modelValue":o[4]||(o[4]=l=>e.value.fojaref=l)},null,512),[[g,e.value.fojaref]]),$]),a("div",{class:"modal-footer"},[a("button",{type:"button",class:"btn btn-secondary",onClick:w}," Cancelar "),a("button",{type:"button",onClick:T,class:"btn btn-primary"}," Guardar ")])])])):p("",!0)]),_:1}))}});export{ne as default};
