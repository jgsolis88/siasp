import{g as t,p as n,d as i,a as u}from"./api-6055b01b.js";import{C as v,p as c}from"./paginationHelper-8171a740.js";import{r as p}from"./index-675e3599.js";const l="cat_escala_por_nivel/",_=()=>{const r=p({...v});return{scalesLevel:r,getScalesLevel:async({page:a=1})=>{try{r.value.loading=!0;const e=await t(`${l}`,{page:a,page_size:r.value.pagination.page_size});return r.value.data=e.results,r.value.pagination=c(r.value.pagination,a,e.count),r.value.loading=!1,Promise.resolve(e.results)}catch(e){return console.error(e),console.log("Error al cargar las escalas por nivel",e),Promise.reject(e)}},saveScaleLevel:async a=>{try{const e=await n(l,a);return Promise.resolve(e)}catch(e){return console.error(e),console.log("Error al guardar la nueva escala por nivel",e),Promise.reject(e)}},deleteScaleLevel:async a=>{try{const e=await i(`${l}`,a);return Promise.resolve(e)}catch(e){return console.error(e),console.log("Error al eliminar la escala por nivel",e),Promise.reject(e)}},updateScaleLevel:async(a,e)=>{try{console.log(e.clave);const o=await u(`${l}`,a,e);return Promise.resolve(o)}catch(o){return console.error(o),console.log("Error al guardar la escala por nivel",o),Promise.reject(o)}},getScaleLevelById:async a=>{try{const e=await t(`${l}${a}/`);return Promise.resolve(e)}catch(e){return console.error(e),console.log("Error al cargar escala por nivel",e),Promise.reject(e)}},searchScalesLevel:async(a="",e=1,o=!0)=>{try{r.value.loading=!0;const s=await t(`${l}`,{page:e,search:a,page_size:r.value.pagination.page_size},o);return r.value.data=s.results,r.value.pagination=c(r.value.pagination,e,s.count),r.value.loading=!1,Promise.resolve(s.results)}catch(s){return console.error(s),console.log("Error al escalas por nivel",s),Promise.reject(s)}}}};export{_ as u};
