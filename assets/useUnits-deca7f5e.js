import{g as t,p as i,d as l,a as c}from"./api-b8e6f8bb.js";import{C as u,p as n}from"./paginationHelper-8171a740.js";import{r as d}from"./index-7b270076.js";const s="cat_unidad_administrativa/",_=()=>{const r=d(u);return{units:r,getUnits:async({page:o=1})=>{try{r.value.loading=!0;const e=await t(`${s}`,{page:o,page_size:r.value.pagination.page_size});return r.value.data=e.results,r.value.pagination=n(r.value.pagination,o,e.count),r.value.loading=!1,Promise.resolve(e.results)}catch(e){return console.error(e),console.log("Error al cargar las unidades",e),Promise.reject(e)}},saveUnit:async o=>{try{const e=await i(s,o);return Promise.resolve(e)}catch(e){return console.error(e),console.log("Error al guardar la nueva unidad",e),Promise.reject(e)}},deleteUnit:async o=>{try{const e=await l(`${s}`,o);return Promise.resolve(e)}catch(e){return console.error(e),console.log("Error al eliminar la unidad",e),Promise.reject(e)}},updateUnit:async(o,e)=>{try{console.log(e.clave);const a=await c(`${s}`,o,e);return Promise.resolve(a)}catch(a){return console.error(a),console.log("Error al guardar la unidad",a),Promise.reject(a)}},getUnitById:async o=>{try{const e=await t(`${s}${o}/`);return Promise.resolve(e)}catch(e){return console.error(e),console.log("Error al cargar unidad",e),Promise.reject(e)}},searchUnits:async(o="",e=1)=>{try{r.value.loading=!0;const a=await t(`${s}`,{page:e,search:o,page_size:r.value.pagination.page_size});return r.value.data=a.results,r.value.pagination=n(r.value.pagination,e,a.count),r.value.loading=!1,Promise.resolve(a.results)}catch(a){return console.error(a),console.log("Error al obtener las unidades",a),Promise.reject(a)}}}};export{_ as u};
