import{d as P,r as u,i as j,q as v,j as U,w as B,T as S,o as c,c as d,b as e,t as f,g as n,n as b,u as i,k as p,z as k,B as x}from"./index-675e3599.js";import{s as I}from"./scrollHelper-62f64ba1.js";import{u as M}from"./usePositions-79c5f16d.js";import{u as N}from"./useFormValidation-6eda1048.js";import{d as q}from"./positionModel-f2f04c3d.js";import"./api-6055b01b.js";import"./paginationHelper-8171a740.js";const D={descripcion:{rules:[{validation:s=>s&&s.length>0,message:"La descripción es requerida."},{validation:s=>s&&s.length>3,message:"La descripción debe tener al menos tres caracteres."}]},nivel:{rules:[{validation:s=>s&&s.length>0,message:"El nivel es requerido."}]},clave:{rules:[{validation:s=>s&&s.length>0,message:"La clave es requerida."}]}},R={key:0},F={class:"view-name"},L=e("hr",{class:"red"},null,-1),E={class:"p-4"},A={key:0,class:"form-group"},G=e("label",{for:"nombre-operacion"},"Clave",-1),H={key:0,id:"descripcion-nivel-small",class:"form-text text-muted app-validation"},J={class:"form-group"},K=e("label",{for:"nombre-operacion"},"Nivel",-1),O={key:0,id:"descripcion-nivel-small",class:"form-text text-muted app-validation"},Q={class:"form-group"},W=e("label",{for:"nombre-operacion"},"Descripción",-1),X={key:0,id:"descripcion-nivel-small",class:"form-text text-muted app-validation"},Y={class:"form-group"},Z=e("label",null,"Tipo de Nombramiento",-1),$=e("option",{value:"0"},"Seleccione una opción",-1),ee=e("option",{value:"1"},"Registro de Prueba",-1),oe=[$,ee],ae={class:"form-group"},te=e("label",null,"Clasificación Funcional del Puesto",-1),se=e("option",{value:"0"},"Seleccione una opción",-1),le=e("option",{value:"1"},"Registro de Prueba",-1),ie=[se,le],ne={class:"form-check"},ce=e("label",{class:"form-check-label pl-4",for:"nombre"},"Tiene base",-1),re={class:"form-check"},ue=e("label",{class:"form-check-label pl-4",for:"nombre"},"Tiene fojaref",-1),be=P({__name:"PositionDetailsView",setup(s){const g=u("Registrar Puesto"),{savePosition:y,updatePosition:V,getPositionById:z}=M(),r=u(""),_=u(!1),m=u(!1),o=u({...q}),{isValid:T,errors:l}=N(o.value,D),w=()=>{v.push({name:"listar-puestos"})},C=()=>{T.value&&(r.value?V({...o.value}).then(()=>{v.push({name:"listar-puestos"})}).catch(()=>{m.value=!0,setTimeout(()=>{m.value=!1},3e3)}):y({...o.value}).then(()=>{v.push({name:"listar-puestos"})}).catch(()=>{m.value=!0,setTimeout(()=>{m.value=!1},3e3)}))};return j(()=>{var h;r.value=(h=v.currentRoute.value.params.id)==null?void 0:h.toString(),r.value?(g.value="Actualizar Puesto",z(r.value).then(a=>{o.value.clave=a.clave,o.value.descripcion=a.descripcion,o.value.base_confianza=a.base_confianza,o.value.fojaref=a.fojaref,o.value.nivel=a.nivel,o.value.id_clasificador_funcional_puesto=a.id_clasificador_funcional_puesto,o.value.id_tipo_nombramiento=a.id_tipo_nombramiento,o.value.id_tipo_servicios_personales=a.id_tipo_servicios_personales,_.value=!0})):_.value=!0,I()}),(h,a)=>(c(),U(S,{name:"view"},{default:B(()=>[_.value?(c(),d("div",R,[e("h4",F,f(g.value),1),L,e("form",E,[r.value?p("",!0):(c(),d("div",A,[G,n(e("input",{type:"text","onUpdate:modelValue":a[0]||(a[0]=t=>o.value.clave=t),class:"form-control",id:"name-position",placeholder:"Introduzca la clave",autocomplete:"off"},null,512),[[b,o.value.clave]]),i(l)&&i(l).clave?(c(),d("small",H,f(i(l).clave),1)):p("",!0)])),e("div",J,[K,n(e("input",{type:"text","onUpdate:modelValue":a[1]||(a[1]=t=>o.value.nivel=t),class:"form-control",id:"level-position",placeholder:"Introduzca el nivel",autocomplete:"off"},null,512),[[b,o.value.nivel]]),i(l)&&i(l).nivel?(c(),d("small",O,f(i(l).nivel),1)):p("",!0)]),e("div",Q,[W,n(e("input",{type:"text","onUpdate:modelValue":a[2]||(a[2]=t=>o.value.descripcion=t),class:"form-control",id:"description-position",placeholder:"Introduzca la descripción",autocomplete:"off"},null,512),[[b,o.value.descripcion]]),i(l)&&i(l).descripcion?(c(),d("small",X,f(i(l).descripcion),1)):p("",!0)]),e("div",Y,[Z,n(e("select",{class:"form-select form-control","onUpdate:modelValue":a[3]||(a[3]=t=>o.value.id_tipo_nombramiento=t)},oe,512),[[k,o.value.id_tipo_nombramiento]])]),e("div",ae,[te,n(e("select",{class:"form-select form-control","onUpdate:modelValue":a[4]||(a[4]=t=>o.value.id_clasificador_funcional_puesto=t)},ie,512),[[k,o.value.id_clasificador_funcional_puesto]])]),e("div",ne,[n(e("input",{class:"form-check-input",placeholder:"Tiene base",name:"base_confianza",id:"base_confianza",type:"checkbox","onUpdate:modelValue":a[5]||(a[5]=t=>o.value.base_confianza=t)},null,512),[[x,o.value.base_confianza]]),ce]),e("div",re,[n(e("input",{class:"form-check-input",placeholder:"Tiene fojaref",name:"fojaref",id:"fojaref",type:"checkbox","onUpdate:modelValue":a[6]||(a[6]=t=>o.value.fojaref=t)},null,512),[[x,o.value.fojaref]]),ue]),e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary",onClick:w}," Cancelar "),e("button",{type:"button",onClick:C,class:"btn btn-primary"}," Guardar ")])])])):p("",!0)]),_:1}))}});export{be as default};
