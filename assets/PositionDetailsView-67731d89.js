import{d as T,r as p,l as P,i as B,q as m,j as I,w as U,T as q,o as n,c,b as o,t as f,g as d,n as b,u as l,k as u,z as g}from"./index-7b270076.js";import{s as D}from"./scrollHelper-62f64ba1.js";import{u as N}from"./usePositions-35b64e18.js";import{u as L}from"./useFormValidation-3bfe7101.js";import{d as M}from"./positionModel-e5be1b2c.js";import"./api-b8e6f8bb.js";import"./paginationHelper-8171a740.js";const S={descripcion:{rules:[{validation:s=>s&&s.length>0,message:"La descripci贸n es requerida."},{validation:s=>s&&s.length>3,message:"La descripci贸n debe tener al menos tres caracteres."}]},nivel:{rules:[{validation:s=>s&&s.length>0,message:"El nivel es requerido."}]},clave:{rules:[{validation:s=>s&&s.length>0,message:"La clave es requerida."}]}},E={key:0},R={class:"view-name"},A=o("hr",{class:"red"},null,-1),F={class:"p-4"},G={key:0,class:"form-group"},K=o("label",{for:"nombre-operacion"},"Clave",-1),H={key:0,id:"descripcion-nivel-small",class:"form-text text-muted app-validation"},J={class:"form-group"},O=o("label",{for:"nombre-operacion"},"Nivel",-1),Q={key:0,id:"descripcion-nivel-small",class:"form-text text-muted app-validation"},W={class:"form-group"},X=o("label",{for:"nombre-operacion"},"Descripci贸n",-1),Y={key:0,id:"descripcion-nivel-small",class:"form-text text-muted app-validation"},Z={class:"form-check"},$=o("label",{class:"form-check-label pl-4",for:"nombre"},"Tiene base",-1),ee={class:"form-check"},oe=o("label",{class:"form-check-label pl-4",for:"nombre"},"Tiene fojaref",-1),ce=T({__name:"PositionDetailsView",setup(s){const k=p("Registrar Puesto"),{savePosition:x,updatePosition:V,getPositionById:z}=N(),r=p(""),v=p(!1),y=p(!0),e=P(M),{isValid:j,errors:t}=L(e,S),w=()=>{_(),m.push({name:"listar-puestos"})},C=()=>{j.value&&(r.value?V({...e}).then(()=>{_(),m.push({name:"listar-puestos"})}):x({...e}).then(()=>{_(),m.push({name:"listar-puestos"})}))},_=()=>{e.clave="",e.nivel="",e.descripcion="",e.base_confianza=!1,e.fojaref=!1,e.clave_clasificador_funcional=1,e.clave_tipo_nombramiento=1,e.clave_tipo_servicios_personales=1};return B(()=>{var h;r.value=(h=m.currentRoute.value.params.id)==null?void 0:h.toString(),r.value?(y.value=!1,k.value="Actualizar Puesto",z(r.value).then(a=>{e.clave=r.value,e.nivel=a.nivel,e.descripcion=a.descripcion,e.base_confianza=a.base_confianza,e.fojaref=a.fojaref,v.value=!0})):v.value=!0,D()}),(h,a)=>(n(),I(q,{name:"view"},{default:U(()=>[v.value?(n(),c("div",E,[o("h4",R,f(k.value),1),A,o("form",F,[y.value?(n(),c("div",G,[K,d(o("input",{type:"text","onUpdate:modelValue":a[0]||(a[0]=i=>e.clave=i),class:"form-control",id:"name-position",placeholder:"Introduzca la clave",autocomplete:"off"},null,512),[[b,e.clave]]),l(t)&&l(t).clave?(n(),c("small",H,f(l(t).clave),1)):u("",!0)])):u("",!0),o("div",J,[O,d(o("input",{type:"text","onUpdate:modelValue":a[1]||(a[1]=i=>e.nivel=i),class:"form-control",id:"level-position",placeholder:"Introduzca el nivel",autocomplete:"off"},null,512),[[b,e.nivel]]),l(t)&&l(t).nivel?(n(),c("small",Q,f(l(t).nivel),1)):u("",!0)]),o("div",W,[X,d(o("input",{type:"text","onUpdate:modelValue":a[2]||(a[2]=i=>e.descripcion=i),class:"form-control",id:"description-position",placeholder:"Introduzca la descripci贸n",autocomplete:"off"},null,512),[[b,e.descripcion]]),l(t)&&l(t).descripcion?(n(),c("small",Y,f(l(t).descripcion),1)):u("",!0)]),o("div",Z,[d(o("input",{class:"form-check-input",placeholder:"Tiene base",name:"base_confianza",id:"base_confianza",type:"checkbox","onUpdate:modelValue":a[3]||(a[3]=i=>e.base_confianza=i)},null,512),[[g,e.base_confianza]]),$]),o("div",ee,[d(o("input",{class:"form-check-input",placeholder:"Tiene fojaref",name:"fojaref",id:"fojaref",type:"checkbox","onUpdate:modelValue":a[4]||(a[4]=i=>e.fojaref=i)},null,512),[[g,e.fojaref]]),oe]),o("div",{class:"modal-footer"},[o("button",{type:"button",class:"btn btn-secondary",onClick:w}," Cancelar "),o("button",{type:"button",onClick:C,class:"btn btn-primary"}," Guardar ")])])])):u("",!0)]),_:1}))}});export{ce as default};
