import{g as a,p as i,d as l,a as c}from"./api-b8e6f8bb.js";import{C as u,p as n}from"./paginationHelper-8171a740.js";import{r as p}from"./index-7b270076.js";const t="cat_puesto/",j=()=>{const r=p(u);return{positions:r,getPositions:async({page:o=1})=>{try{r.value.loading=!0;const e=await a(`${t}`,{page:o,page_size:r.value.pagination.page_size});return r.value.data=e.results,r.value.pagination=n(r.value.pagination,o,e.count),r.value.loading=!1,Promise.resolve(e.results)}catch(e){return console.error(e),console.log("Error al cargar los puestos",e),Promise.reject(e)}},savePosition:async o=>{try{const e=await i(t,o);return Promise.resolve(e)}catch(e){return console.error(e),console.log("Error al guardar el nuevo puesto",e),Promise.reject(e)}},deletePosition:async o=>{try{const e=await l(`${t}`,o);return Promise.resolve(e)}catch(e){return console.error(e),console.log("Error al eliminar el puesto",e),Promise.reject(e)}},updatePosition:async o=>{try{console.log(o.clave);const e=await c(`${t}`,o.clave,o);return Promise.resolve(e)}catch(e){return console.error(e),console.log("Error al guardar el nuevo puesto",e),Promise.reject(e)}},getPositionById:async o=>{try{const e=await a(`${t}${o}/`);return Promise.resolve(e)}catch(e){return console.error(e),console.log("Error al cargar puesto",e),Promise.reject(e)}},searchPositions:async(o="",e=1)=>{try{r.value.loading=!0;const s=await a(`${t}`,{page:e,search:o,page_size:r.value.pagination.page_size});return r.value.data=s.results,r.value.pagination=n(r.value.pagination,e,s.count),r.value.loading=!1,Promise.resolve(s.results)}catch(s){return console.error(s),console.log("Error al cargar puestos",s),Promise.reject(s)}}}};export{j as u};
