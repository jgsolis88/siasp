import{g as n,p as u,d as f,a as g}from"./api-e27444fc.js";import{C as v,p as c}from"./paginationHelper-8171a740.js";import{r as i}from"./index-878fd94d.js";const s="cat_fecha_tabulador/",p="rango_fechas/",w=()=>{const a=i({...v}),l=i({inicio:0,fin:0});return{effective_dates:a,years_range:l,getTabEffectiveDates:async({page:r=1})=>{try{a.value.loading=!0;const e=await n(`${s}`,{page:r,page_size:a.value.pagination.page_size});return a.value.data=e.results,a.value.pagination=c(a.value.pagination,r,e.count),a.value.loading=!1,Promise.resolve(e.results)}catch(e){return console.error(e),console.log("Error al cargar las fechas",e),Promise.reject(e)}},saveTabEffectiveDate:async r=>{try{const e=await u(s,r);return Promise.resolve(e)}catch(e){return console.error(e),console.log("Error al guardar el nuevo fecha",e),Promise.reject(e)}},deleteTabEffectiveDate:async r=>{try{const e=await f(`${s}`,r);return Promise.resolve(e)}catch(e){return console.error(e),console.log("Error al eliminar el fecha",e),Promise.reject(e)}},updateEffectiveDate:async(r,e)=>{try{const t=await g(`${s}`,r,e);return Promise.resolve(t)}catch(t){return console.error(t),console.log("Error al guardar el nuevo fecha",t),Promise.reject(t)}},getTabEffectiveDateById:async r=>{try{const e=await n(`${s}${r}/`);return Promise.resolve(e)}catch(e){return console.error(e),console.log("Error al cargar fecha",e),Promise.reject(e)}},searchTabEffectiveDates:async(r="",e=1,t=!0)=>{try{a.value.loading=!0;const o=await n(`${s}`,{page:e,page_size:a.value.pagination.page_size,search:r},t);return a.value.data=o.results,a.value.pagination=c(a.value.pagination,e,o.count),a.value.loading=!1,Promise.resolve(o.results)}catch(o){return console.error(o),console.log("Error al cargar fechas",o),Promise.reject(o)}},getYearsRange:async()=>{try{const r=await n(`${p}`,{});return l.value=r,Promise.resolve(r)}catch(r){return console.error(r),Promise.reject(r)}},getAllTabEffectiveDates:async({page:r=1,pageSize:e=a.value.pagination.page_size})=>{try{a.value.loading=!0;const t=await n(`${s}`,{page:r,page_size:e,paginate:!1});return a.value.data=t,a.value.pagination=c(a.value.pagination,r,t.count),a.value.loading=!1,Promise.resolve(t.results)}catch(t){return console.error(t),console.log("Error al cargar fechas",t),Promise.reject(t)}}}};export{w as u};
