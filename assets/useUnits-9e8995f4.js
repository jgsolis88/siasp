import{g as n,p as l,d as c,a as u}from"./api-e3d8e98d.js";import{C as d,p as i}from"./paginationHelper-8171a740.js";import{r as g}from"./index-9519387c.js";const t="cat_unidad_administrativa/",f=()=>{const r=g({...d});return{units:r,getUnits:async({page:a=1})=>{try{r.value.loading=!0;const e=await n(`${t}`,{page:a,page_size:r.value.pagination.page_size});return r.value.data=e.results,r.value.pagination=i(r.value.pagination,a,e.count),r.value.loading=!1,Promise.resolve(e.results)}catch(e){return console.error(e),console.log("Error al cargar las unidades",e),Promise.reject(e)}},saveUnit:async a=>{try{const e=await l(t,a);return Promise.resolve(e)}catch(e){return console.error(e),console.log("Error al guardar la nueva unidad",e),Promise.reject(e)}},deleteUnit:async a=>{try{const e=await c(`${t}`,a);return Promise.resolve(e)}catch(e){return console.error(e),console.log("Error al eliminar la unidad",e),Promise.reject(e)}},updateUnit:async(a,e)=>{try{console.log(e.clave);const o=await u(`${t}`,a,e);return Promise.resolve(o)}catch(o){return console.error(o),console.log("Error al guardar la unidad",o),Promise.reject(o)}},getUnitById:async a=>{try{const e=await n(`${t}${a}/`);return Promise.resolve(e)}catch(e){return console.error(e),console.log("Error al cargar unidad",e),Promise.reject(e)}},searchUnits:async(a="",e=1,o=!0)=>{try{r.value.loading=!0;const s=await n(`${t}`,{page:e,search:a,page_size:r.value.pagination.page_size},o);return r.value.data=s.results,r.value.pagination=i(r.value.pagination,e,s.count),r.value.loading=!1,Promise.resolve(s.results)}catch(s){return console.error(s),console.log("Error al obtener las unidades",s),Promise.reject(s)}}}};export{f as u};
