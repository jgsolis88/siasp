import{d as z,r as b,i as N,q as v,j as R,w,T as F,o as n,c as i,b as e,t as u,g as c,n as m,u as l,k as d,B as x}from"./index-675e3599.js";import{s as E}from"./scrollHelper-62f64ba1.js";import{u as S}from"./useUnits-3f386980.js";import{u as D}from"./useFormValidation-6eda1048.js";import{d as G}from"./unitModel-061eb151.js";import"./api-6055b01b.js";import"./paginationHelper-8171a740.js";const B={nombre:{rules:[{validation:s=>s&&s.length>0,message:"El nombre es requerido."},{validation:s=>s&&s.length>3,message:"El nombre debe tener al menos tres caracteres."}]},descripcion:{rules:[{validation:s=>s&&s.length>0,message:"La descripción es requerida."},{validation:s=>s&&s.length>3,message:"La descripción debe tener al menos tres caracteres."}]},siglas:{rules:[{validation:s=>s&&s.length>1&&s.length<6,message:"Las siglas deben tener al menos 1 caracter y no más de 5."}]},rfc_director:{rules:[{validation:s=>s&&s.length<14,message:"El RFC del director no debe tener más de 13 caracterés."}]},rfc_subdirector:{rules:[{validation:s=>s&&s.length<14,message:"El RFC del subdirector no debe tener más de 13 caracterés."}]}},T={key:0},q={class:"view-name"},A=e("hr",{class:"red"},null,-1),M={class:"p-4"},L={key:0,class:"form-group"},P=e("label",null,"Clave",-1),O={key:0,id:"descripcion-nivel-small",class:"form-text text-muted app-validation"},j={class:"form-group"},H=e("label",{for:"nombre-operacion"},"Nombre",-1),J={key:0,id:"name-nivel-small",class:"form-text text-muted app-validation"},K={class:"form-group"},Q=e("label",{for:"nombre-operacion"},"Descripción",-1),W={key:0,id:"descripcion-nivel-small",class:"form-text text-muted app-validation"},X={class:"form-group"},Y=e("label",{for:"nombre-operacion"},"Siglas",-1),Z={key:0,id:"siglas-nivel-small",class:"form-text text-muted app-validation"},$={class:"form-group"},ee=e("label",{for:"nombre-operacion"},"Nombre del Director",-1),oe={key:0,id:"nombre_director-nivel-small",class:"form-text text-muted app-validation"},te={class:"form-group"},re=e("label",{for:"nombre-operacion"},"Puesto del Director",-1),le={key:0,id:"puesto_director-nivel-small",class:"form-text text-muted app-validation"},ae={class:"form-group"},se=e("label",{for:"nombre-operacion"},"RFC del Director",-1),ne={key:0,id:"rfc_director-nivel-small",class:"form-text text-muted app-validation"},ie={class:"form-group"},de=e("label",{for:"nombre-operacion"},"Nombre del Subdirector",-1),ce={key:0,id:"nombre_subdirector-nivel-small",class:"form-text text-muted app-validation"},ue={class:"form-group"},me=e("label",{for:"nombre-operacion"},"Puesto del Subdirector",-1),_e={key:0,id:"puesto_subdirector-nivel-small",class:"form-text text-muted app-validation"},pe={class:"form-group"},be=e("label",{for:"nombre-operacion"},"RFC del Subdirector",-1),ve={key:0,id:"rfc_subdirector-nivel-small",class:"form-text text-muted app-validation"},fe={class:"form-group"},ge=e("label",{for:"nombre-operacion"},"Domicilio",-1),he={key:0,id:"domicilio-nivel-small",class:"form-text text-muted app-validation"},xe={class:"form-group"},ye=e("label",{for:"nombre-operacion"},"Colonia",-1),ke={key:0,id:"colonia-nivel-small",class:"form-text text-muted app-validation"},Ve={class:"form-group"},Ce=e("label",{for:"nombre-operacion"},"Ciudad",-1),Ue={key:0,id:"ciudad-nivel-small",class:"form-text text-muted app-validation"},Ie={class:"form-group"},ze=e("label",{for:"nombre-operacion"},"Código Postal",-1),Ne={key:0,id:"codigo_postal-nivel-small",class:"form-text text-muted app-validation"},Re={class:"form-group"},we=e("label",{for:"nombre-operacion"},"Nombre del Residente General de Carreteras Alimentadoras",-1),Fe={key:0,id:"nombre_residente_general_alimentadoras-nivel-small",class:"form-text text-muted app-validation"},Ee={class:"form-group"},Se=e("label",{for:"nombre-operacion"},"Nombre del Subdirector de Obras",-1),De={key:0,id:"nombre_subdirector_obras-nivel-small",class:"form-text text-muted app-validation"},Ge={class:"form-group"},Be=e("label",{for:"nombre-operacion"},"Nombre del Residente General de Conservación de Carreteras",-1),Te={key:0,id:"nombre_residente_general_conservacion_carreteras-nivel-small",class:"form-text text-muted app-validation"},qe={class:"form-group"},Ae=e("label",{for:"nombre-operacion"},"Nombre del Residente General de Carreteras Federales",-1),Me={key:0,id:"nombre_residente_general_carretera_federal-nivel-small",class:"form-text text-muted app-validation"},Le={class:"form-check"},Pe=e("label",{class:"form-check-label pl-4",for:"nombre"},"Es central",-1),Oe={class:"form-check"},je=e("label",{class:"form-check-label pl-4",for:"nombre"},"Es donante",-1),He={key:1,class:"form-text text-muted app-form-message"},$e=z({__name:"UnitDetailsView",setup(s){const h=b("Registrar Unidad Administrativa"),{saveUnit:y,updateUnit:k,getUnitById:V}=S(),_=b(""),f=b(!1),p=b(!1),o=b({...G}),{isValid:C,errors:r}=D(o.value,B),U=()=>{v.push({name:"listar-unidades"})},I=()=>{C.value&&(_.value?k(_.value,{...o.value}).then(()=>{v.push({name:"listar-unidades"})}).catch(()=>{p.value=!0,setTimeout(()=>{p.value=!1},3e3)}):y({...o.value}).then(()=>{v.push({name:"listar-unidades"})}).catch(()=>{p.value=!0,setTimeout(()=>{p.value=!1},3e3)}))};return N(()=>{var g;_.value=(g=v.currentRoute.value.params.id)==null?void 0:g.toString(),_.value?(h.value="Actualizar Unidad Administrativa",V(_.value).then(t=>{o.value.clave=t.clave,o.value.nombre=t.nombre,o.value.descripcion=t.descripcion,o.value.siglas=t.siglas,o.value.nombre_director=t.nombre_director,o.value.puesto_director=t.puesto_director,o.value.nombre_subdirector=t.nombre_subdirector,o.value.puesto_subdirector=t.puesto_subdirector,o.value.domicilio=t.domicilio,o.value.rfc_director=t.rfc_director,o.value.colonia=t.colonia,o.value.rfc_subdirector=t.rfc_subdirector,o.value.codigo_postal=t.codigo_postal,o.value.ciudad=t.ciudad,o.value.central=t.central,o.value.donante=t.donante,o.value.id_estado=t.id_estado,o.value.nombre_residente_general_alimentadoras=t.nombre_residente_general_alimentadoras,o.value.nombre_subdirector_obras=t.nombre_subdirector_obras,o.value.nombre_residente_general_conservacion_carreteras=t.nombre_residente_general_conservacion_carreteras,o.value.nombre_residente_general_carretera_federal=t.nombre_residente_general_carretera_federal,f.value=!0})):f.value=!0,E()}),(g,t)=>(n(),R(F,{name:"view"},{default:w(()=>[f.value?(n(),i("div",T,[e("h4",q,u(h.value),1),A,e("form",M,[_.value?d("",!0):(n(),i("div",L,[P,c(e("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=a=>o.value.clave=a),class:"form-control",placeholder:"Introduzca la clave",autocomplete:"off"},null,512),[[m,o.value.clave]]),l(r)&&l(r).clave?(n(),i("small",O,u(l(r).clave),1)):d("",!0)])),e("div",j,[H,c(e("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=a=>o.value.nombre=a),class:"form-control",id:"nameunit",placeholder:"Introduzca el nombre",autocomplete:"off"},null,512),[[m,o.value.nombre]]),l(r)&&l(r).nombre?(n(),i("small",J,u(l(r).nombre),1)):d("",!0)]),e("div",K,[Q,c(e("input",{type:"text","onUpdate:modelValue":t[2]||(t[2]=a=>o.value.descripcion=a),class:"form-control",id:"descriptionunit",placeholder:"Introduzca la descripción",autocomplete:"off"},null,512),[[m,o.value.descripcion]]),l(r)&&l(r).descripcion?(n(),i("small",W,u(l(r).descripcion),1)):d("",!0)]),e("div",X,[Y,c(e("input",{type:"text","onUpdate:modelValue":t[3]||(t[3]=a=>o.value.siglas=a),class:"form-control",id:"siglasnunit",placeholder:"Introduzca las siglas",autocomplete:"off"},null,512),[[m,o.value.siglas]]),l(r)&&l(r).siglas?(n(),i("small",Z,u(l(r).siglas),1)):d("",!0)]),e("div",$,[ee,c(e("input",{type:"text","onUpdate:modelValue":t[4]||(t[4]=a=>o.value.nombre_director=a),class:"form-control",id:"nombre_directornunit",placeholder:"Introduzca el nombre del director",autocomplete:"off"},null,512),[[m,o.value.nombre_director]]),l(r)&&l(r).nombre_director?(n(),i("small",oe,u(l(r).nombre_director),1)):d("",!0)]),e("div",te,[re,c(e("input",{type:"text","onUpdate:modelValue":t[5]||(t[5]=a=>o.value.puesto_director=a),class:"form-control",placeholder:"Introduzca el puesto del director",autocomplete:"off"},null,512),[[m,o.value.puesto_director]]),l(r)&&l(r).puesto_director?(n(),i("small",le,u(l(r).puesto_director),1)):d("",!0)]),e("div",ae,[se,c(e("input",{type:"text","onUpdate:modelValue":t[6]||(t[6]=a=>o.value.rfc_director=a),class:"form-control",placeholder:"Introduzca el RFC del director",autocomplete:"off"},null,512),[[m,o.value.rfc_director]]),l(r)&&l(r).rfc_director?(n(),i("small",ne,u(l(r).rfc_director),1)):d("",!0)]),e("div",ie,[de,c(e("input",{type:"text","onUpdate:modelValue":t[7]||(t[7]=a=>o.value.nombre_subdirector=a),class:"form-control",placeholder:"Introduzca el nombre del subdirector",autocomplete:"off"},null,512),[[m,o.value.nombre_subdirector]]),l(r)&&l(r).nombre_subdirector?(n(),i("small",ce,u(l(r).nombre_subdirector),1)):d("",!0)]),e("div",ue,[me,c(e("input",{type:"text","onUpdate:modelValue":t[8]||(t[8]=a=>o.value.puesto_subdirector=a),class:"form-control",placeholder:"Introduzca el puesto del subdirector",autocomplete:"off"},null,512),[[m,o.value.puesto_subdirector]]),l(r)&&l(r).puesto_subdirector?(n(),i("small",_e,u(l(r).puesto_subdirector),1)):d("",!0)]),e("div",pe,[be,c(e("input",{type:"text","onUpdate:modelValue":t[9]||(t[9]=a=>o.value.rfc_subdirector=a),class:"form-control",placeholder:"Introduzca el RFC del subdirector",autocomplete:"off"},null,512),[[m,o.value.rfc_subdirector]]),l(r)&&l(r).rfc_subdirector?(n(),i("small",ve,u(l(r).rfc_subdirector),1)):d("",!0)]),e("div",fe,[ge,c(e("input",{type:"text","onUpdate:modelValue":t[10]||(t[10]=a=>o.value.domicilio=a),class:"form-control",placeholder:"Introduzca el domicilio",autocomplete:"off"},null,512),[[m,o.value.domicilio]]),l(r)&&l(r).domicilio?(n(),i("small",he,u(l(r).domicilio),1)):d("",!0)]),e("div",xe,[ye,c(e("input",{type:"text","onUpdate:modelValue":t[11]||(t[11]=a=>o.value.colonia=a),class:"form-control",placeholder:"Introduzca la colonia",autocomplete:"off"},null,512),[[m,o.value.colonia]]),l(r)&&l(r).colonia?(n(),i("small",ke,u(l(r).colonia),1)):d("",!0)]),e("div",Ve,[Ce,c(e("input",{type:"text","onUpdate:modelValue":t[12]||(t[12]=a=>o.value.ciudad=a),class:"form-control",placeholder:"Introduzca la ciudad",autocomplete:"off"},null,512),[[m,o.value.ciudad]]),l(r)&&l(r).ciudad?(n(),i("small",Ue,u(l(r).ciudad),1)):d("",!0)]),e("div",Ie,[ze,c(e("input",{type:"text","onUpdate:modelValue":t[13]||(t[13]=a=>o.value.codigo_postal=a),class:"form-control",placeholder:"Introduzca el Código postal",autocomplete:"off"},null,512),[[m,o.value.codigo_postal]]),l(r)&&l(r).codigo_postal?(n(),i("small",Ne,u(l(r).codigo_postal),1)):d("",!0)]),e("div",Re,[we,c(e("input",{type:"text","onUpdate:modelValue":t[14]||(t[14]=a=>o.value.nombre_residente_general_alimentadoras=a),class:"form-control",placeholder:"Introduzca el Nombre del Residente General de Carreteras Alimentadoras",autocomplete:"off"},null,512),[[m,o.value.nombre_residente_general_alimentadoras]]),l(r)&&l(r).nombre_residente_general_alimentadoras?(n(),i("small",Fe,u(l(r).nombre_residente_general_alimentadoras),1)):d("",!0)]),e("div",Ee,[Se,c(e("input",{type:"text","onUpdate:modelValue":t[15]||(t[15]=a=>o.value.nombre_subdirector_obras=a),class:"form-control",placeholder:"Introduzca el Nombre del Subdirector de Obras",autocomplete:"off"},null,512),[[m,o.value.nombre_subdirector_obras]]),l(r)&&l(r).nombre_subdirector_obras?(n(),i("small",De,u(l(r).nombre_subdirector_obras),1)):d("",!0)]),e("div",Ge,[Be,c(e("input",{type:"text","onUpdate:modelValue":t[16]||(t[16]=a=>o.value.nombre_residente_general_conservacion_carreteras=a),class:"form-control",placeholder:"Introduzca el Nombre del Residente General de Conservación de Carreteras",autocomplete:"off"},null,512),[[m,o.value.nombre_residente_general_conservacion_carreteras]]),l(r)&&l(r).nombre_residente_general_conservacion_carreteras?(n(),i("small",Te,u(l(r).nombre_residente_general_conservacion_carreteras),1)):d("",!0)]),e("div",qe,[Ae,c(e("input",{type:"text","onUpdate:modelValue":t[17]||(t[17]=a=>o.value.nombre_residente_general_carretera_federal=a),class:"form-control",placeholder:"Introduzca el Nombre del Residente General de Carreteras Federales",autocomplete:"off"},null,512),[[m,o.value.nombre_residente_general_carretera_federal]]),l(r)&&l(r).nombre_residente_general_carretera_federal?(n(),i("small",Me,u(l(r).nombre_residente_general_carretera_federal),1)):d("",!0)]),e("div",Le,[c(e("input",{class:"form-check-input",placeholder:"Es central",name:"central",id:"central",type:"checkbox","onUpdate:modelValue":t[18]||(t[18]=a=>o.value.central=a)},null,512),[[x,o.value.central]]),Pe]),e("div",Oe,[c(e("input",{class:"form-check-input",placeholder:"Es donante",name:"donante",id:"donante",type:"checkbox","onUpdate:modelValue":t[19]||(t[19]=a=>o.value.donante=a)},null,512),[[x,o.value.donante]]),je]),e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary",onClick:U}," Cancelar "),e("button",{type:"button",onClick:I,class:"btn btn-primary"}," Guardar ")]),p.value?(n(),i("small",He," Verifique que los datos esten correctos, o no haya sido registrado previamiente. ")):d("",!0)])])):d("",!0)]),_:1}))}});export{$e as default};
